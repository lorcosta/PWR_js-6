<!doctype html>
<html lang="it">
  <head>
    <title>Prove con JS</title>
    <meta charset="utf-8">
    <meta name="author" content="Lorenzo Costa" >
    <script>
      "use strict";
      function calcolaSomma(somma_attuale,numero){
        somma_attuale+=numero
        return somma_attuale;
      }
      function calcola_media(somma_attuale, n){
        return somma_attuale/n;
      }
    </script>
  </head>
  <body>
      <h1>Pagina realizzata con JavaScript</h1>
      <p>Autore della pagina: Lorenzo Costa</p>
      <script>
        "use strict";
      var invalid=true;
      var num;
      var somma=0;
      var n=0;
      window.alert("Inserire una serie di numeri desiderata, digitare la stringa 'fine' quando non si desidera inserire ulteriori elementi")

      do{
        num=window.prompt("Inserire un numero","")
        //controllo se la stringa è fine o no
        if(num=='fine'){
          invalid=false;
        }else{
          num=Number(num)
          //Se input assume il valore null o stringa vuota allora non è
          //stato settato perciò risulta false
          if(!num){
            window.alert("Non è stato inserito alcun numero!")
          }else if (num == "") {
            window.alert("(Errore - non hai inserito alcun valore)");
          }else if(isNaN(num)){
            window.alert("Inserire un numero valido!")
          }else{
              n++;
              somma=calcolaSomma(somma,num)
              window.alert("L'ultimo numero introdotto è: "+num+" e la media dei numeri inseriti è: "+(somma/n))
              document.writeln("<p>Inserito il numero "+num+"<\/p>")
          }
        }
      }while(invalid)
      document.writeln("<p>La media dei numeri inseriti è: "+calcola_media(somma,n)+"</p>")
      </script>
  </body>
</html>
